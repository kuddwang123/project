<!DOCTYPE html><html><head>
      <title>design</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////home/panlou/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.8.13/crossnote/dependencies/katex/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h3 id="posttunnel">postTunnel </h3>
<p>该模块功能向指定服务器上传业务设备文件，目前支持s3存储，涉及的文件包括地图数据，轨迹数据，清扫日志等。</p>
<h4 id="接口">接口 </h4>
<p>rostopic:"/uploadfile/s3"<br>
ros msg:<br>
String : "filename (with absolute path)"</p>
<h4 id="基本时序">基本时序 </h4>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="338px" preserveAspectRatio="none" style="width:384px;height:338px;background:#FFFFFF;" version="1.1" viewBox="0 0 384 338" width="384px" zoomAndPan="magnify"><defs><filter height="300%" id="f19wrvhn4sf3z" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="45" x2="45" y1="88.2969" y2="253.9609"></line><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="143" x2="143" y1="88.2969" y2="253.9609"></line><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="226" x2="226" y1="88.2969" y2="253.9609"></line><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="291" x2="291" y1="88.2969" y2="253.9609"></line><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="349" x2="349" y1="88.2969" y2="253.9609"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="5" y="84.9951">application</text><ellipse cx="45" cy="15" fill="#FEFECE" filter="url(#f19wrvhn4sf3z)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"></ellipse><path d="M45,23 L45,50 M32,31 L58,31 M45,50 L32,65 M45,50 L58,65 " fill="none" filter="url(#f19wrvhn4sf3z)" style="stroke:#A80036;stroke-width:2.0;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="5" y="265.9561">application</text><ellipse cx="45" cy="279.2578" fill="#FEFECE" filter="url(#f19wrvhn4sf3z)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"></ellipse><path d="M45,287.2578 L45,314.2578 M32,295.2578 L58,295.2578 M45,314.2578 L32,329.2578 M45,314.2578 L58,329.2578 " fill="none" filter="url(#f19wrvhn4sf3z)" style="stroke:#A80036;stroke-width:2.0;"></path><rect fill="#FEFECE" filter="url(#f19wrvhn4sf3z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="93" x="95" y="53"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="102" y="72.9951">postTunnel</text><rect fill="#FEFECE" filter="url(#f19wrvhn4sf3z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="93" x="95" y="252.9609"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="102" y="272.9561">postTunnel</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17" x="215" y="84.9951">iot</text><path d="M206,44 L206,68 M206,56 L223,56 " fill="none" filter="url(#f19wrvhn4sf3z)" style="stroke:#A80036;stroke-width:2.0;"></path><ellipse cx="235" cy="56" fill="#FEFECE" filter="url(#f19wrvhn4sf3z)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17" x="215" y="265.9561">iot</text><path d="M206,273.2578 L206,297.2578 M206,285.2578 L223,285.2578 " fill="none" filter="url(#f19wrvhn4sf3z)" style="stroke:#A80036;stroke-width:2.0;"></path><ellipse cx="235" cy="285.2578" fill="#FEFECE" filter="url(#f19wrvhn4sf3z)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><path d="M266,62 L316,62 C321,62 321,75.1484 321,75.1484 C321,75.1484 321,88.2969 316,88.2969 L266,88.2969 C261,88.2969 261,75.1484 261,75.1484 C261,75.1484 261,62 266,62 " fill="#FEFECE" filter="url(#f19wrvhn4sf3z)" style="stroke:#A80036;stroke-width:2.0;"></path><path d="M316,62 C311,62 311,75.1484 311,75.1484 C311,88.2969 316,88.2969 316,88.2969 " fill="none" style="stroke:#A80036;stroke-width:2.0;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="266" y="79.9951">libcurl</text><path d="M266,252.9609 L316,252.9609 C321,252.9609 321,266.1094 321,266.1094 C321,266.1094 321,279.2578 316,279.2578 L266,279.2578 C261,279.2578 261,266.1094 261,266.1094 C261,266.1094 261,252.9609 266,252.9609 " fill="#FEFECE" filter="url(#f19wrvhn4sf3z)" style="stroke:#A80036;stroke-width:2.0;"></path><path d="M316,252.9609 C311,252.9609 311,266.1094 311,266.1094 C311,279.2578 316,279.2578 316,279.2578 " fill="none" style="stroke:#A80036;stroke-width:2.0;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="266" y="270.9561">libcurl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17" x="337.5" y="84.9951">s3</text><path d="M331,36 C331,26 349,26 349,26 C349,26 367,26 367,36 L367,62 C367,72 349,72 349,72 C349,72 331,72 331,62 L331,36 " fill="#FEFECE" filter="url(#f19wrvhn4sf3z)" style="stroke:#A80036;stroke-width:1.5;"></path><path d="M331,36 C331,46 349,46 349,46 C349,46 367,46 367,36 " fill="none" style="stroke:#A80036;stroke-width:1.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17" x="337.5" y="265.9561">s3</text><path d="M331,279.2578 C331,269.2578 349,269.2578 349,269.2578 C349,269.2578 367,269.2578 367,279.2578 L367,305.2578 C367,315.2578 349,315.2578 349,315.2578 C349,315.2578 331,315.2578 331,305.2578 L331,279.2578 " fill="#FEFECE" filter="url(#f19wrvhn4sf3z)" style="stroke:#A80036;stroke-width:1.5;"></path><path d="M331,279.2578 C331,289.2578 349,289.2578 349,289.2578 C349,289.2578 367,289.2578 367,279.2578 " fill="none" style="stroke:#A80036;stroke-width:1.5;"></path><polygon fill="#A80036" points="131.5,115.4297,141.5,119.4297,131.5,123.4297,135.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="45" x2="137.5" y1="119.4297" y2="119.4297"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="52" y="114.3638">file upload</text><polygon fill="#A80036" points="214.5,144.5625,224.5,148.5625,214.5,152.5625,218.5,148.5625" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="143.5" x2="220.5" y1="148.5625" y2="148.5625"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="150.5" y="143.4966">get url</text><polygon fill="#A80036" points="154.5,173.6953,144.5,177.6953,154.5,181.6953,150.5,177.6953" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="148.5" x2="225.5" y1="177.6953" y2="177.6953"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="160.5" y="172.6294">return url</text><polygon fill="#A80036" points="279,202.8281,289,206.8281,279,210.8281,283,206.8281" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="143.5" x2="285" y1="206.8281" y2="206.8281"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="150.5" y="201.7622">http</text><polygon fill="#A80036" points="337,231.9609,347,235.9609,337,239.9609,341,235.9609" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="291" x2="343" y1="235.9609" y2="235.9609"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="298" y="230.895">PUT</text><!--SRC=[FKqv4i8m3EprYlr0gdGkU0D5U82I2D3WiOqj5_mUopDGhVRGRdjfGirDY0_B5LnAr8DDSm8tfrIucXvQE1bARhRrb2IwwupstDF9zGFDvk80UdVfWgZxqUjCEjB9nZitGLjTQokDUYoNsOE0kqP1Bp7pILCQbfS6FCJW3SwM_qCLwpLDunUVU-5fLcYUGnfZ0RZUjYy0]--></g></svg></p><h4 id="协议">协议 </h4>
<pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token comment">//请求URL</span>
<span class="token punctuation">{</span>
  <span class="token property">"uploadFileUrl"</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">"type"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">"uuid"</span><span class="token operator">:</span><span class="token string">"1234"</span><span class="token punctuation">,</span>
    <span class="token property">"file"</span><span class="token operator">:</span><span class="token string">"map1-1716946233.json"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//URL返回</span>
<span class="token punctuation">{</span>
  <span class="token property">"uploadFileUrl"</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">"type"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">"uuid"</span><span class="token operator">:</span><span class="token string">"1234"</span><span class="token punctuation">,</span>
    <span class="token property">"url"</span><span class="token operator">:</span><span class="token string">"xxxx"</span><span class="token punctuation">,</span>
    <span class="token property">"urlExpire"</span><span class="token operator">:</span> <span class="token number">120</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//上传完成上报</span>
<span class="token punctuation">{</span>
  <span class="token property">"uploadResultReport"</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">"type"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">"file"</span><span class="token operator">:</span><span class="token string">"map1-1716946233.json"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="流程">流程 </h4>
<h5 id="主业务流程">主业务流程 </h5>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="1001px" preserveAspectRatio="none" style="width:1185px;height:1001px;background:#FFFFFF;" version="1.1" viewBox="0 0 1185 1001" width="1185px" zoomAndPan="magnify"><defs><filter height="300%" id="f1w95ktshooujz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><ellipse cx="604" cy="20" fill="#000000" filter="url(#f1w95ktshooujz)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;"></ellipse><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="171" x="518.5" y="50"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="151" x="528.5" y="71.1387">load fail msgs from local</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="46" x="581" y="103.9688"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="26" x="591" y="125.1074">spin</text><rect fill="#000000" filter="url(#f1w95ktshooujz)" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="1157" x="11" y="157.9375"></rect><path d="M379.5,188.3555 L379.5,196.9219 L359.5,200.9219 L379.5,204.9219 L379.5,213.4883 A0,0 0 0 0 379.5,213.4883 L451.5,213.4883 A0,0 0 0 0 451.5,213.4883 L451.5,198.3555 L441.5,188.3555 L379.5,188.3555 A0,0 0 0 0 379.5,188.3555 " fill="#FBFB77" filter="url(#f1w95ktshooujz)" style="stroke:#A80036;stroke-width:1.0;"></path><path d="M441.5,188.3555 L441.5,198.3555 L451.5,198.3555 L441.5,188.3555 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="385.5" y="205.4224">filepath</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="139" x="220.5" y="183.9375"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="234.5" y="205.0762">file upload chatter</text><polygon fill="#FEFECE" filter="url(#f1w95ktshooujz)" points="211,286.3086,369,286.3086,381,298.3086,369,310.3086,211,310.3086,199,298.3086,211,286.3086" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="211" y="302.1167">origin file exist in fail queue</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="179" y="295.7144">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="381" y="295.7144">no</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="132" x="36.5" y="320.3086"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112" x="46.5" y="341.4473">delete cached file</text><path d="M170,389.2773 L170,420.543 L150,424.543 L170,428.543 L170,459.8086 A0,0 0 0 0 170,459.8086 L382,459.8086 A0,0 0 0 0 382,459.8086 L382,399.2773 L372,389.2773 L170,389.2773 A0,0 0 0 0 170,389.2773 " fill="#FBFB77" filter="url(#f1w95ktshooujz)" style="stroke:#A80036;stroke-width:1.0;"></path><path d="M372,389.2773 L372,399.2773 L382,399.2773 L372,389.2773 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="176" y="406.3442">update uuid</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="176" y="421.4771">update ts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="176" y="436.6099">update new cached file name,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="176" y="451.7427">update md5</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="95" x="55" y="407.5586"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="65" y="428.6973">update msg</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="159" x="23" y="494.8086"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="37" y="515.9473">replace with new msg</text><path d="M573,320.3086 L573,389.4063 L553,393.4063 L573,397.4063 L573,466.5039 A0,0 0 0 0 573,466.5039 L791,466.5039 A0,0 0 0 0 791,466.5039 L791,330.3086 L781,320.3086 L573,320.3086 A0,0 0 0 0 573,320.3086 " fill="#FBFB77" filter="url(#f1w95ktshooujz)" style="stroke:#A80036;stroke-width:1.0;"></path><path d="M781,320.3086 L781,330.3086 L791,330.3086 L781,320.3086 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="579" y="337.3755">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="583" y="352.5083">"id" : "uuid",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="583" y="367.6411">"originfile": "origin file path",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="583" y="382.7739">"md5": "file md5",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="583" y="397.9067">"cachedfile":"cached file path",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="583" y="413.0396">"expire" :,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="583" y="428.1724">"url" : "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="583" y="443.3052">"urlgents":</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="583" y="458.438">}</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="151" x="402" y="376.4219"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58" x="416" y="397.5605">generate</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65" x="478" y="397.5605">[file msg]</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="138" x="408.5" y="501.5039"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="422.5" y="522.6426">push to fail queue</text><polygon fill="#FEFECE" filter="url(#f1w95ktshooujz)" points="290,541.4727,302,553.4727,290,565.4727,278,553.4727,290,541.4727" style="stroke:#A80036;stroke-width:1.5;"></polygon><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="173" x="203.5" y="600.4727"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="149" x="217.5" y="621.6113">copy origin file to cache</text><polygon fill="#FEFECE" filter="url(#f1w95ktshooujz)" points="202,669.0859,378,669.0859,390,681.0859,378,693.0859,202,693.0859,190,681.0859,202,669.0859" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="176" x="202" y="684.894">origin file md5 == md5 in msg</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="170" y="678.4917">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="390" y="678.4917">no</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="112" x="124" y="703.0859"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="138" y="724.2246">pub get s3 url</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="136" x="332" y="703.0859"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112" x="346" y="724.2246">delete cached file</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="147" x="326.5" y="757.0547"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="123" x="340.5" y="778.1934">remove the fail msg</text><polygon fill="#FEFECE" filter="url(#f1w95ktshooujz)" points="290,797.0234,302,809.0234,290,821.0234,278,809.0234,290,797.0234" style="stroke:#A80036;stroke-width:1.5;"></polygon><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="198" x="191" y="841.0234"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="174" x="205" y="862.1621">save fail queue msgs locally</text><polygon fill="#FEFECE" filter="url(#f1w95ktshooujz)" points="266,237.9063,314,237.9063,326,249.9063,314,261.9063,266,261.9063,254,249.9063,266,237.9063" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="294" y="272.1167">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="266" y="253.7144">file exist</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="326" y="247.312">no</text><polygon fill="#FEFECE" filter="url(#f1w95ktshooujz)" points="290,894.9922,302,906.9922,290,918.9922,278,906.9922,290,894.9922" style="stroke:#A80036;stroke-width:1.5;"></polygon><path d="M973,389.9375 L973,398.5039 L953,402.5039 L973,406.5039 L973,415.0703 A0,0 0 0 0 973,415.0703 L1092,415.0703 A0,0 0 0 0 1092,415.0703 L1092,399.9375 L1082,389.9375 L973,389.9375 A0,0 0 0 0 973,389.9375 " fill="#FBFB77" filter="url(#f1w95ktshooujz)" style="stroke:#A80036;stroke-width:1.0;"></path><path d="M1082,389.9375 L1082,399.9375 L1092,399.9375 L1082,389.9375 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="979" y="407.0044">uuid, expire, url</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="115" x="838" y="385.5195"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="95" x="848" y="406.6582">url msg income</text><path d="M963,507.3086 L963,515.875 L943,519.875 L963,523.875 L963,532.4414 A0,0 0 0 0 963,532.4414 L1142,532.4414 A0,0 0 0 0 1142,532.4414 L1142,517.3086 L1132,507.3086 L963,507.3086 A0,0 0 0 0 963,507.3086 " fill="#FBFB77" filter="url(#f1w95ktshooujz)" style="stroke:#A80036;stroke-width:1.0;"></path><path d="M1132,507.3086 L1132,517.3086 L1142,517.3086 L1132,507.3086 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="969" y="524.3755">fill "url", "expire", "urlgen"</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="95" x="848" y="502.8906"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="858" y="524.0293">update msg</text><rect fill="#FEFECE" filter="url(#f1w95ktshooujz)" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="151" x="820" y="571.8594"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="131" x="830" y="592.998">move from fail queue</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="830" y="606.9668">to active queue</text><rect fill="#FFC0CB" filter="url(#f1w95ktshooujz)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="865" y="654.4414"></rect><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="41" x="875" y="675.5801">notify</text><polygon fill="#FEFECE" filter="url(#f1w95ktshooujz)" points="831,454.4883,960,454.4883,972,466.4883,960,478.4883,831,478.4883,819,466.4883,831,454.4883" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="899.5" y="488.6987">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="129" x="831" y="470.2964">uuid exist in fail queue</text><polygon fill="#FEFECE" filter="url(#f1w95ktshooujz)" points="895.5,712.8125,907.5,724.8125,895.5,736.8125,883.5,724.8125,895.5,712.8125" style="stroke:#A80036;stroke-width:1.5;"></polygon><rect fill="#000000" filter="url(#f1w95ktshooujz)" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="1157" x="11" y="938.9922"></rect><ellipse cx="604" cy="974.9922" fill="none" filter="url(#f1w95ktshooujz)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"></ellipse><line style="stroke:#000000;stroke-width:2.5;" x1="597.8128" x2="610.1872" y1="968.805" y2="981.1794"></line><line style="stroke:#000000;stroke-width:2.5;" x1="610.1872" x2="597.8128" y1="968.805" y2="981.1794"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="604" x2="604" y1="30" y2="50"></line><polygon fill="#A80036" points="600,40,604,50,608,40,604,44" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="604" x2="604" y1="83.9688" y2="103.9688"></line><polygon fill="#A80036" points="600,93.9688,604,103.9688,608,93.9688,604,97.9688" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="102.5" x2="102.5" y1="354.2773" y2="407.5586"></line><polygon fill="#A80036" points="98.5,397.5586,102.5,407.5586,106.5,397.5586,102.5,401.5586" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="102.5" x2="102.5" y1="441.5273" y2="494.8086"></line><polygon fill="#A80036" points="98.5,484.8086,102.5,494.8086,106.5,484.8086,102.5,488.8086" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="477.5" x2="477.5" y1="410.3906" y2="501.5039"></line><polygon fill="#A80036" points="473.5,491.5039,477.5,501.5039,481.5,491.5039,477.5,495.5039" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="199" x2="102.5" y1="298.3086" y2="298.3086"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="102.5" x2="102.5" y1="298.3086" y2="320.3086"></line><polygon fill="#A80036" points="98.5,310.3086,102.5,320.3086,106.5,310.3086,102.5,314.3086" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="381" x2="477.5" y1="298.3086" y2="298.3086"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="477.5" x2="477.5" y1="298.3086" y2="376.4219"></line><polygon fill="#A80036" points="473.5,366.4219,477.5,376.4219,481.5,366.4219,477.5,370.4219" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="102.5" x2="102.5" y1="528.7773" y2="553.4727"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="102.5" x2="278" y1="553.4727" y2="553.4727"></line><polygon fill="#A80036" points="268,549.4727,278,553.4727,268,557.4727,272,553.4727" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="477.5" x2="477.5" y1="535.4727" y2="553.4727"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="477.5" x2="302" y1="553.4727" y2="553.4727"></line><polygon fill="#A80036" points="312,549.4727,302,553.4727,312,557.4727,308,553.4727" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="290" x2="290" y1="565.4727" y2="600.4727"></line><polygon fill="#A80036" points="286,590.4727,290,600.4727,294,590.4727,290,594.4727" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="400" x2="400" y1="737.0547" y2="757.0547"></line><polygon fill="#A80036" points="396,747.0547,400,757.0547,404,747.0547,400,751.0547" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="190" x2="180" y1="681.0859" y2="681.0859"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="180" x2="180" y1="681.0859" y2="703.0859"></line><polygon fill="#A80036" points="176,693.0859,180,703.0859,184,693.0859,180,697.0859" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="390" x2="400" y1="681.0859" y2="681.0859"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="400" x2="400" y1="681.0859" y2="703.0859"></line><polygon fill="#A80036" points="396,693.0859,400,703.0859,404,693.0859,400,697.0859" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="180" x2="180" y1="737.0547" y2="809.0234"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="180" x2="278" y1="809.0234" y2="809.0234"></line><polygon fill="#A80036" points="268,805.0234,278,809.0234,268,813.0234,272,809.0234" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="400" x2="400" y1="791.0234" y2="809.0234"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="400" x2="302" y1="809.0234" y2="809.0234"></line><polygon fill="#A80036" points="312,805.0234,302,809.0234,312,813.0234,308,809.0234" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="290" x2="290" y1="634.4414" y2="669.0859"></line><polygon fill="#A80036" points="286,659.0859,290,669.0859,294,659.0859,290,663.0859" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="290" x2="290" y1="821.0234" y2="841.0234"></line><polygon fill="#A80036" points="286,831.0234,290,841.0234,294,831.0234,290,835.0234" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="290" x2="290" y1="261.9063" y2="286.3086"></line><polygon fill="#A80036" points="286,276.3086,290,286.3086,294,276.3086,290,280.3086" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="326" x2="805" y1="249.9063" y2="249.9063"></line><polygon fill="#A80036" points="801,585.8281,805,595.8281,809,585.8281,805,589.8281" style="stroke:#A80036;stroke-width:1.5;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="805" x2="805" y1="249.9063" y2="906.9922"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="805" x2="302" y1="906.9922" y2="906.9922"></line><polygon fill="#A80036" points="312,902.9922,302,906.9922,312,910.9922,308,906.9922" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="290" x2="290" y1="874.9922" y2="894.9922"></line><polygon fill="#A80036" points="286,884.9922,290,894.9922,294,884.9922,290,888.9922" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="290" x2="290" y1="217.9063" y2="237.9063"></line><polygon fill="#A80036" points="286,227.9063,290,237.9063,294,227.9063,290,231.9063" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="895.5" x2="895.5" y1="536.8594" y2="571.8594"></line><polygon fill="#A80036" points="891.5,561.8594,895.5,571.8594,899.5,561.8594,895.5,565.8594" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="895.5" x2="895.5" y1="619.7969" y2="654.4414"></line><polygon fill="#A80036" points="891.5,644.4414,895.5,654.4414,899.5,644.4414,895.5,648.4414" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="895.5" x2="895.5" y1="478.4883" y2="502.8906"></line><polygon fill="#A80036" points="891.5,492.8906,895.5,502.8906,899.5,492.8906,895.5,496.8906" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="972" x2="1152" y1="466.4883" y2="466.4883"></line><polygon fill="#A80036" points="1148,585.8281,1152,595.8281,1156,585.8281,1152,589.8281" style="stroke:#A80036;stroke-width:1.5;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="1152" x2="1152" y1="466.4883" y2="724.8125"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="1152" x2="907.5" y1="724.8125" y2="724.8125"></line><polygon fill="#A80036" points="917.5,720.8125,907.5,724.8125,917.5,728.8125,913.5,724.8125" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="895.5" x2="895.5" y1="688.4102" y2="712.8125"></line><polygon fill="#A80036" points="891.5,702.8125,895.5,712.8125,899.5,702.8125,895.5,706.8125" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="895.5" x2="895.5" y1="419.4883" y2="454.4883"></line><polygon fill="#A80036" points="891.5,444.4883,895.5,454.4883,899.5,444.4883,895.5,448.4883" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="290" x2="290" y1="163.9375" y2="183.9375"></line><polygon fill="#A80036" points="286,173.9375,290,183.9375,294,173.9375,290,177.9375" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="895.5" x2="895.5" y1="163.9375" y2="385.5195"></line><polygon fill="#A80036" points="891.5,375.5195,895.5,385.5195,899.5,375.5195,895.5,379.5195" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="290" x2="290" y1="918.9922" y2="938.9922"></line><polygon fill="#A80036" points="286,928.9922,290,938.9922,294,928.9922,290,932.9922" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="895.5" x2="895.5" y1="736.8125" y2="938.9922"></line><polygon fill="#A80036" points="891.5,928.9922,895.5,938.9922,899.5,928.9922,895.5,932.9922" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="604" x2="604" y1="137.9375" y2="157.9375"></line><polygon fill="#A80036" points="600,147.9375,604,157.9375,608,147.9375,604,151.9375" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="604" x2="604" y1="944.9922" y2="964.9922"></line><polygon fill="#A80036" points="600,954.9922,604,964.9922,608,954.9922,604,958.9922" style="stroke:#A80036;stroke-width:1.0;"></polygon><!--SRC=[TLJDZfim4BxFKuoybopYLlLYj4zIzU324AmOczfcTwDLtxqpTaX0JRd0_7_V_90krcCCYI1b4pDe5yo0ex4EvtHEECOmemkzSHtej5ZVmHZY1JIErX6kI_7l9vCpnGvyo8JHdgSCM3mMaoS4yWEA2Uo8fn98dpRbLymJUSJJbT8h08erS3H3UZYXI8BdzqehtK9g12BgWHnnpTxq4mqbh2lwTHaCwvb4aG_0-BcPrzKE1qLE1z7JnpurUZDJU_2OX-yYtnbAROoqEDCJVbXcBpa41Y8WkKHuyg5YnpDvYfAbQNwK_EptiscU8FugHPKT58SfWQqg3bKR9j5ARr85AxtVl1Ycc6iH_hwfAxSQhFP4zx7qkTX8NFWchz4L5EeXCv6Sb2xodt_xiQnfmXnsSsIAx697u4tgmtB5FN3sB5Yw9pl1uF7jhRnOnVsg6x4j1DHolxYr6TCtP6nSwjXuZS-NHkOsXtUIXFSJk0DbSpBljEDGBwGSXxjsy2XnOoQ7WkPih0VDECITCVTXbch7ySf0MwoDRWKqx3eeBH27_z_3nlwuzN1S8gRfwl3Q-qpRRNfgNr2NBfJJtx45cOlfisNRDiCN_YDSTDDmd1slPNCb3RENL_bJy0Vy1G00]--></g></svg></p><p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="828px" preserveAspectRatio="none" style="width:1399px;height:828px;background:#FFFFFF;" version="1.1" viewBox="0 0 1399 828" width="1399px" zoomAndPan="magnify"><defs><filter height="300%" id="fzzxygx9319c8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><ellipse cx="700.5" cy="20" fill="#000000" filter="url(#fzzxygx9319c8)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;"></ellipse><line style="stroke:#A80036;stroke-width:1.5;" x1="516.5625" x2="1167.25" y1="50" y2="50"></line><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="114" x="459.5625" y="70"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="469.5625" y="91.1387">condition wake</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="193" x="420.0625" y="172.3711"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173" x="430.0625" y="193.5098">active queue msg pop front</text><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="428.5625,226.3398,604.5625,226.3398,616.5625,238.3398,604.5625,250.3398,428.5625,250.3398,416.5625,238.3398,428.5625,226.3398" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="176" x="428.5625" y="242.1479">origin file md5 == md5 in msg</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="396.5625" y="235.7456">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="616.5625" y="235.7456">no</text><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="196.625,260.3398,256.625,260.3398,268.625,272.3398,256.625,284.3398,196.625,284.3398,184.625,272.3398,196.625,260.3398" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="196.625" y="276.1479">url expire?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="164.625" y="269.7456">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="268.625" y="269.7456">no</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="112" x="25" y="294.3398"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="39" y="315.4785">pub get s3 url</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="121" x="20.5" y="363.3086"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="34.5" y="384.4473">update file msg</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="140" x="11" y="432.2773"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116" x="25" y="453.416">move to fail queue</text><rect fill="none" filter="url(#fzzxygx9319c8)" height="353.1719" style="stroke:#000000;stroke-width:1.0;" width="532.125" x="161" y="294.3398"></rect><path d="M272,294.3398 L272,303.6367 L262,313.6367 L161,313.6367 " fill="none" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="164" y="308.335">Upload Thread</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="135" x="314.75" y="330.6367"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="324.75" y="351.7754">upload cached file</text><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="337.75,399.6055,426.75,399.6055,438.75,411.6055,426.75,423.6055,337.75,423.6055,325.75,411.6055,337.75,399.6055" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="337.75" y="415.4136">upload success</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="305.75" y="409.0112">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="438.75" y="409.0112">no</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="142" x="181" y="433.6055"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="191" y="454.7441">upload done report</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="90" x="207" y="502.5742"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="217" y="523.7129">delete msg</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="132" x="186" y="571.543"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112" x="196" y="592.6816">delete cached file</text><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="445,433.6055,580,433.6055,592,445.6055,580,457.6055,445,457.6055,433,445.6055,445,433.6055" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="445" y="449.4136">exceed max retry times</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="413" y="443.0112">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="592" y="443.0112">no</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="140" x="353" y="467.6055"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116" x="367" y="488.7441">move to fail queue</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="157" x="523.5" y="467.6055"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="133" x="537.5" y="488.7441">push to active queue</text><rect fill="#FFC0CB" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="571.5" y="536.5742"></rect><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="41" x="581.5" y="557.7129">notify</text><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="512.5,576.543,524.5,588.543,512.5,600.543,500.5,588.543,512.5,576.543" style="stroke:#A80036;stroke-width:1.5;"></polygon><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="382.25,611.5117,394.25,623.5117,382.25,635.5117,370.25,623.5117,382.25,611.5117" style="stroke:#A80036;stroke-width:1.5;"></polygon><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="226.625,653.5117,238.625,665.5117,226.625,677.5117,214.625,665.5117,226.625,653.5117" style="stroke:#A80036;stroke-width:1.5;"></polygon><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="90" x="741.5" y="260.3398"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="751.5" y="281.4785">delete msg</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="132" x="720.5" y="329.3086"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112" x="730.5" y="350.4473">delete cached file</text><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="516.5625,683.5117,528.5625,695.5117,516.5625,707.5117,504.5625,695.5117,516.5625,683.5117" style="stroke:#A80036;stroke-width:1.5;"></polygon><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="461.0625,123.9688,572.0625,123.9688,584.0625,135.9688,572.0625,147.9688,461.0625,147.9688,449.0625,135.9688,461.0625,123.9688" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="520.5625" y="158.1792">no</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="461.0625" y="139.7769">active queue empty</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="584.0625" y="133.3745">yes</text><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="516.5625,727.5117,528.5625,739.5117,516.5625,751.5117,504.5625,739.5117,516.5625,727.5117" style="stroke:#A80036;stroke-width:1.5;"></polygon><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="98" x="1118.25" y="229.5195"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78" x="1128.25" y="250.6582">timer trigger</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="171" x="1081.75" y="298.4883"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="151" x="1091.75" y="319.627">load fail msgs from local</text><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="1055.75,367.457,1278.75,367.457,1290.75,379.457,1278.75,391.457,1055.75,391.457,1043.75,379.457,1055.75,367.457" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="223" x="1055.75" y="383.2651">origin md5 equal and cached file exist?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="1023.75" y="376.8628">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="1290.75" y="376.8628">no</text><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="982.75,401.457,1084.75,401.457,1096.75,413.457,1084.75,425.457,982.75,425.457,970.75,413.457,982.75,401.457" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="982.75" y="417.2651">url expire or lack?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="956.75" y="410.8628">no</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="1096.75" y="410.8628">yes</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="155" x="880.5" y="435.457"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="890.5" y="456.5957">move to active queue</text><rect fill="#FFC0CB" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="927.5" y="504.4258"></rect><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="41" x="937.5" y="525.5645">notify</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="108" x="1055.5" y="435.457"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="1065.5" y="456.5957">pub get s3 url</text><polygon fill="#FEFECE" filter="url(#fzzxygx9319c8)" points="1033.75,544.3945,1045.75,556.3945,1033.75,568.3945,1021.75,556.3945,1033.75,544.3945" style="stroke:#A80036;stroke-width:1.5;"></polygon><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="164" x="1218.75" y="401.457"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="1228.75" y="422.5957">remove from fail queue</text><rect fill="#FEFECE" filter="url(#fzzxygx9319c8)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="150" x="1225.75" y="470.4258"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="130" x="1235.75" y="491.5645">save fail msgs locally</text><ellipse cx="1300.75" cy="549.3945" fill="none" filter="url(#fzzxygx9319c8)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"></ellipse><line style="stroke:#000000;stroke-width:2.5;" x1="1294.5628" x2="1306.9372" y1="543.2073" y2="555.5817"></line><line style="stroke:#000000;stroke-width:2.5;" x1="1306.9372" x2="1294.5628" y1="543.2073" y2="555.5817"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="516.5625" x2="1167.25" y1="771.5117" y2="771.5117"></line><ellipse cx="700.5" cy="801.5117" fill="none" filter="url(#fzzxygx9319c8)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"></ellipse><line style="stroke:#000000;stroke-width:2.5;" x1="694.3128" x2="706.6872" y1="795.3245" y2="807.6989"></line><line style="stroke:#000000;stroke-width:2.5;" x1="706.6872" x2="694.3128" y1="795.3245" y2="807.6989"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="81" x2="81" y1="328.3086" y2="363.3086"></line><polygon fill="#A80036" points="77,353.3086,81,363.3086,85,353.3086,81,357.3086" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="81" x2="81" y1="397.2773" y2="432.2773"></line><polygon fill="#A80036" points="77,422.2773,81,432.2773,85,422.2773,81,426.2773" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="252" x2="252" y1="467.5742" y2="502.5742"></line><polygon fill="#A80036" points="248,492.5742,252,502.5742,256,492.5742,252,496.5742" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="252" x2="252" y1="536.543" y2="571.543"></line><polygon fill="#A80036" points="248,561.543,252,571.543,256,561.543,252,565.543" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="602" x2="602" y1="501.5742" y2="536.5742"></line><polygon fill="#A80036" points="598,526.5742,602,536.5742,606,526.5742,602,530.5742" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="433" x2="423" y1="445.6055" y2="445.6055"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="423" x2="423" y1="445.6055" y2="467.6055"></line><polygon fill="#A80036" points="419,457.6055,423,467.6055,427,457.6055,423,461.6055" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="592" x2="602" y1="445.6055" y2="445.6055"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="602" x2="602" y1="445.6055" y2="467.6055"></line><polygon fill="#A80036" points="598,457.6055,602,467.6055,606,457.6055,602,461.6055" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="423" x2="423" y1="501.5742" y2="588.543"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="423" x2="500.5" y1="588.543" y2="588.543"></line><polygon fill="#A80036" points="490.5,584.543,500.5,588.543,490.5,592.543,494.5,588.543" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="602" x2="602" y1="570.543" y2="588.543"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="602" x2="524.5" y1="588.543" y2="588.543"></line><polygon fill="#A80036" points="534.5,584.543,524.5,588.543,534.5,592.543,530.5,588.543" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="325.75" x2="252" y1="411.6055" y2="411.6055"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="252" x2="252" y1="411.6055" y2="433.6055"></line><polygon fill="#A80036" points="248,423.6055,252,433.6055,256,423.6055,252,427.6055" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="438.75" x2="512.5" y1="411.6055" y2="411.6055"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="512.5" x2="512.5" y1="411.6055" y2="433.6055"></line><polygon fill="#A80036" points="508.5,423.6055,512.5,433.6055,516.5,423.6055,512.5,427.6055" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="252" x2="252" y1="605.5117" y2="623.5117"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="252" x2="370.25" y1="623.5117" y2="623.5117"></line><polygon fill="#A80036" points="360.25,619.5117,370.25,623.5117,360.25,627.5117,364.25,623.5117" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="512.5" x2="512.5" y1="600.543" y2="623.5117"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="512.5" x2="394.25" y1="623.5117" y2="623.5117"></line><polygon fill="#A80036" points="404.25,619.5117,394.25,623.5117,404.25,627.5117,400.25,623.5117" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="382.25" x2="382.25" y1="364.6055" y2="399.6055"></line><polygon fill="#A80036" points="378.25,389.6055,382.25,399.6055,386.25,389.6055,382.25,393.6055" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="184.625" x2="81" y1="272.3398" y2="272.3398"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="81" x2="81" y1="272.3398" y2="294.3398"></line><polygon fill="#A80036" points="77,284.3398,81,294.3398,85,284.3398,81,288.3398" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="268.625" x2="382.25" y1="272.3398" y2="272.3398"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="382.25" x2="382.25" y1="272.3398" y2="330.6367"></line><polygon fill="#A80036" points="378.25,320.6367,382.25,330.6367,386.25,320.6367,382.25,324.6367" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="81" x2="81" y1="466.2461" y2="665.5117"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="81" x2="214.625" y1="665.5117" y2="665.5117"></line><polygon fill="#A80036" points="204.625,661.5117,214.625,665.5117,204.625,669.5117,208.625,665.5117" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="382.25" x2="382.25" y1="635.5117" y2="665.5117"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="382.25" x2="238.625" y1="665.5117" y2="665.5117"></line><polygon fill="#A80036" points="248.625,661.5117,238.625,665.5117,248.625,669.5117,244.625,665.5117" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="786.5" x2="786.5" y1="294.3086" y2="329.3086"></line><polygon fill="#A80036" points="782.5,319.3086,786.5,329.3086,790.5,319.3086,786.5,323.3086" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="416.5625" x2="226.625" y1="238.3398" y2="238.3398"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="226.625" x2="226.625" y1="238.3398" y2="260.3398"></line><polygon fill="#A80036" points="222.625,250.3398,226.625,260.3398,230.625,250.3398,226.625,254.3398" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="616.5625" x2="786.5" y1="238.3398" y2="238.3398"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="786.5" x2="786.5" y1="238.3398" y2="260.3398"></line><polygon fill="#A80036" points="782.5,250.3398,786.5,260.3398,790.5,250.3398,786.5,254.3398" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="226.625" x2="226.625" y1="677.5117" y2="695.5117"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="226.625" x2="504.5625" y1="695.5117" y2="695.5117"></line><polygon fill="#A80036" points="494.5625,691.5117,504.5625,695.5117,494.5625,699.5117,498.5625,695.5117" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="786.5" x2="786.5" y1="363.2773" y2="695.5117"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="786.5" x2="528.5625" y1="695.5117" y2="695.5117"></line><polygon fill="#A80036" points="538.5625,691.5117,528.5625,695.5117,538.5625,699.5117,534.5625,695.5117" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="516.5625" x2="516.5625" y1="206.3398" y2="226.3398"></line><polygon fill="#A80036" points="512.5625,216.3398,516.5625,226.3398,520.5625,216.3398,516.5625,220.3398" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="516.5625" x2="516.5625" y1="147.9688" y2="172.3711"></line><polygon fill="#A80036" points="512.5625,162.3711,516.5625,172.3711,520.5625,162.3711,516.5625,166.3711" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="584.0625" x2="866.5" y1="135.9688" y2="135.9688"></line><polygon fill="#A80036" points="862.5,426.4414,866.5,436.4414,870.5,426.4414,866.5,430.4414" style="stroke:#A80036;stroke-width:1.5;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="866.5" x2="866.5" y1="135.9688" y2="739.5117"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="866.5" x2="528.5625" y1="739.5117" y2="739.5117"></line><polygon fill="#A80036" points="538.5625,735.5117,528.5625,739.5117,538.5625,743.5117,534.5625,739.5117" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="516.5625" x2="516.5625" y1="707.5117" y2="727.5117"></line><polygon fill="#A80036" points="512.5625,717.5117,516.5625,727.5117,520.5625,717.5117,516.5625,721.5117" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="516.5625" x2="516.5625" y1="103.9688" y2="123.9688"></line><polygon fill="#A80036" points="512.5625,113.9688,516.5625,123.9688,520.5625,113.9688,516.5625,117.9688" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="1167.25" x2="1167.25" y1="263.4883" y2="298.4883"></line><polygon fill="#A80036" points="1163.25,288.4883,1167.25,298.4883,1171.25,288.4883,1167.25,292.4883" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="958" x2="958" y1="469.4258" y2="504.4258"></line><polygon fill="#A80036" points="954,494.4258,958,504.4258,962,494.4258,958,498.4258" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="970.75" x2="958" y1="413.457" y2="413.457"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="958" x2="958" y1="413.457" y2="435.457"></line><polygon fill="#A80036" points="954,425.457,958,435.457,962,425.457,958,429.457" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="1096.75" x2="1109.5" y1="413.457" y2="413.457"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="1109.5" x2="1109.5" y1="413.457" y2="435.457"></line><polygon fill="#A80036" points="1105.5,425.457,1109.5,435.457,1113.5,425.457,1109.5,429.457" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="958" x2="958" y1="538.3945" y2="556.3945"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="958" x2="1021.75" y1="556.3945" y2="556.3945"></line><polygon fill="#A80036" points="1011.75,552.3945,1021.75,556.3945,1011.75,560.3945,1015.75,556.3945" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="1109.5" x2="1109.5" y1="469.4258" y2="556.3945"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="1109.5" x2="1045.75" y1="556.3945" y2="556.3945"></line><polygon fill="#A80036" points="1055.75,552.3945,1045.75,556.3945,1055.75,560.3945,1051.75,556.3945" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="1300.75" x2="1300.75" y1="435.4258" y2="470.4258"></line><polygon fill="#A80036" points="1296.75,460.4258,1300.75,470.4258,1304.75,460.4258,1300.75,464.4258" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="1300.75" x2="1300.75" y1="504.3945" y2="539.3945"></line><polygon fill="#A80036" points="1296.75,529.3945,1300.75,539.3945,1304.75,529.3945,1300.75,533.3945" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="1043.75" x2="1033.75" y1="379.457" y2="379.457"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="1033.75" x2="1033.75" y1="379.457" y2="401.457"></line><polygon fill="#A80036" points="1029.75,391.457,1033.75,401.457,1037.75,391.457,1033.75,395.457" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="1290.75" x2="1300.75" y1="379.457" y2="379.457"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="1300.75" x2="1300.75" y1="379.457" y2="401.457"></line><polygon fill="#A80036" points="1296.75,391.457,1300.75,401.457,1304.75,391.457,1300.75,395.457" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="1033.75" x2="1033.75" y1="568.3945" y2="574.3945"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="1033.75" x2="1167.25" y1="574.3945" y2="574.3945"></line><line style="stroke:#A80036;stroke-width:1.5;" x1="1167.25" x2="1167.25" y1="574.3945" y2="771.5117"></line><polygon fill="#A80036" points="1163.25,761.5117,1167.25,771.5117,1171.25,761.5117,1167.25,765.5117" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="1167.25" x2="1167.25" y1="332.457" y2="367.457"></line><polygon fill="#A80036" points="1163.25,357.457,1167.25,367.457,1171.25,357.457,1167.25,361.457" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="516.5625" x2="516.5625" y1="51.5" y2="70"></line><polygon fill="#A80036" points="512.5625,60,516.5625,70,520.5625,60,516.5625,64" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="1167.25" x2="1167.25" y1="51.5" y2="229.5195"></line><polygon fill="#A80036" points="1163.25,219.5195,1167.25,229.5195,1171.25,219.5195,1167.25,223.5195" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="516.5625" x2="516.5625" y1="751.5117" y2="771.5117"></line><polygon fill="#A80036" points="512.5625,761.5117,516.5625,771.5117,520.5625,761.5117,516.5625,765.5117" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="700.5" x2="700.5" y1="30" y2="50"></line><polygon fill="#A80036" points="696.5,40,700.5,50,704.5,40,700.5,44" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.5;" x1="700.5" x2="700.5" y1="773.0117" y2="791.5117"></line><polygon fill="#A80036" points="696.5,781.5117,700.5,791.5117,704.5,781.5117,700.5,785.5117" style="stroke:#A80036;stroke-width:1.0;"></polygon><!--SRC=[TLHBRkCm3Dth50IwQR8jkf5Hz18p1r1bsX4YIwf4Ts8CUlTIaXFRYUkDRFuU-VJeT3OEeayeH28LIQHW3GaXjNUj8UCT_5DdR8Jfu5bfCby8doEE23W4cWv09tJmxFn1WDpuXzH3y06ww1qr0lZ9DNmqFKDsnd98-mflR-LW4oTSoqsO3YMZvepH0bw2YVY-4m4ImlW1FHAa5-3OPd6CeLM4CrhgLvx1SwVaeLF6rewlJhG9vudA4vYMoiJVOBrguSyf8X__RyN6QjTAdx0jO3UWqdvrfr5hJAbEi1bWAT5wXn0n-4ZDojkYHTfEi5ZtOEzdc3l1YqOE7TI5GIXEG6R0_Ov-uIWxbg0Tc7eTwPJprdferY5FmRYpF1wT9zDDnsEphicww-PFiMFxlbeNutqREtpzIbQjKYja1YfkjPPT0DKhuuJCL4KWbc-FiH6ot5TXXc5Ibla0rcjbwwxCEi_QnizHML1ken0Mj4bqh-Ujsi57i4gVtpThbgUvtimZmm_KYfcVrSx8ntrPqr1HPCI2KWRRRebCAZjkivUnxLHkaGlDxEK3wk-4ttu0]--></g></svg></p>
      </div>
      
      
    
    
    
    
    
    
  
    </body></html>